<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		table {
			border-spacing: 1;
		}
		td {
			width: 40px;
			height: 40px;
			background-color: #eee;
			border: 1px solid;
			line-height: 40px;
			text-align: center;
			font-size: 20px;
		}
	</style>
</head>
<body>
	<table>
		<tbody>
			<script>
				var width = 12
				var height = 12
				var arr = new Array()
				for (var i = 0; i <= width; i ++) {
					arr[i] = new Array()
					for (var j = 0; j <= height; j ++) {
						if (Math.random() < 0.3) {
							arr[i][j] = '☠'
						} 
					}
				}

				for (var i = 0; i <= width; i ++) {
					document.write('<tr>')
					for (var j = 0; j <= height; j ++) {
						if (arr[i][j]!='☠'){
							arr[i][j] = myNumber()
						}
						document.write('<td>' + arr[i][j] + '</td>') 	
					}
					document.write('</tr>')
				}



				function myNumber() {
					var boomcount = 0
					if (arr[i - 1] && (arr[i - 1][j - 1] == '☠')) {
						boomcount++
					}
					if (arr[i - 1] && (arr[i - 1][j] == '☠')) {
						boomcount++
					}
					if (arr[i - 1] && (arr[i - 1][j + 1] == '☠')) {
						boomcount++
					}
					if (arr[i] && (arr[i][j - 1] == '☠')) {
						boomcount++
					}
					if (arr[i] && (arr[i][j + 1] == '☠')) {
						boomcount++
					}
					if (arr[i + 1] && (arr[i + 1][j - 1] == '☠')) {
						boomcount++
					}
					if (arr[i + 1] && (arr[i + 1][j] == '☠')) {
						boomcount++
					}
					if (arr[i + 1] && (arr[i + 1][j + 1] == '☠')) {
						boomcount++
					}
					return boomcount
				}
			</script>
		</tbody>
	</table>
</body>
</html>
